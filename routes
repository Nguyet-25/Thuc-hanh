from sqlmodel import Field, SQLModel
from uuid import UUID
from typing import TYPE_CHECKING

if TYPE_CHECKING:
    from database.models.flight import Flight
    from database.models.airport import Airport

class Routes (SQLModel, table=True)
    _table_args_ =  UniqueConstraint ("origin_iata", "destination_iata", name = "uq_routes_od")
    
route_id: UUID = Field (primary_key = True, index = True)
origin: str = Field (foreign_key = "airport.iata", nullable = False, max_length = 3)
destination: str = Field (foreign_key = "airport.iata", nullable = False, max_length = 3)
distance_km: float = Field (nullable = False)

